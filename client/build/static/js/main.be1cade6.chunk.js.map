{"version":3,"sources":["serviceWorker.js","Components/Navbar.jsx","Components/Buttons.jsx","Components/SnackbarProvider.jsx","Pages/CreateRoom.jsx","Pages/JoinRoom.jsx","Components/DeleteDialog.jsx","Components/NewVarDialog.jsx","Components/NewGraphDialog.jsx","Components/SpeedDial.jsx","Components/Chart.jsx","Pages/Room.jsx","index.js"],"names":["Boolean","window","location","hostname","match","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","appBar","zIndex","drawer","CreateButton","color","background","props","react_default","a","createElement","Button","Object","assign","style","backgroundColor","Danger","Success","DangerSimple","SuccessSimple","useStyles1","success","green","error","palette","dark","info","primary","main","warning","amber","message","display","alignItems","MySnackbarContentWrapper","classes","className","onClose","variant","other","objectWithoutProperties","SnackbarContent","clsx","aria-describedby","id","action","IconButton","key","aria-label","onClick","Close_default","icon","SnackbarContext","createContext","showMessage","open","SnackbarProvider","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","duration","indexOf","setState","handleClose","bind","assertThisInitialized","event","reason","Provider","value","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","children","React","Component","withSnackbar","Consumer","snackbar","contextType","padding","marginTop","container","flexWrap","textField","marginLeft","dense","menu","width","leftIcon","margin","content","_React$useState","useState","students","firstName","lastName","_React$useState2","slicedToArray","values","setValues","_React$useState3","redirect","roomID","_React$useState4","redirection","setRedirection","handleChange","name","i","e","toConsumableArray","target","deleteStudent","length","splice","react_router","to","Grid","justify","item","xs","md","lg","Paper","Typography","component","map","student","TextField","label","onChange","fullWidth","validEntries","data","objectSpread","fetch","api","protocol","port","method","headers","Accept","Content-Type","body","JSON","stringify","then","res","ok","json","_id","catch","console","concat","PersonAdd_default","formControl","minWidth","selectEmpty","setOpen","defineProperty","type","Fragment","DialogTitle","DialogContent","FormControl","InputLabel","htmlFor","Select","variables","variable","MenuItem","unit","graphs","graph","log","Dialog","aria-labelledby","DialogActions","url","variableID","graphID","setRoom","err","msg","displayName","setVariable","DialogContentText","SpeedDials","direction","actions","Delete_default","deleteGraph","deleteVar","Add_default","newVar","newGraph","handleClick","handleOpen","_this$state","hidden","SpeedDial","ariaLabel","speedDial","SpeedDialIcon","onBlur","onFocus","onMouseEnter","onMouseLeave","SpeedDialAction","tooltipTitle","tooltipPlacement","tooltipOpen","withStyles","controls","exampleWrapper","position","height","radioGroup","bottom","right","Chart","_useState","datasets","fill","lineTension","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","y","x","Date","date","_useState2","setData","useEffect","newData","options","text","scales","xAxes","time","tooltipFormat","distribution","yAxes","ticks","callback","index","legend","tooltips","displayColors","callbacks","tooltipItem","yLabel","es","flexShrink","drawerPaper","paddingTop","paddingLeft","paddingRight","toolbar","mixins","setNewVar","setNewGraph","_React$useState5","_React$useState6","removeDialog","setRemoveDialog","_React$useState7","_React$useState8","setRedirect","_React$useState9","datas","now","_React$useState10","room","_React$useState11","_React$useState12","setNewData","params","socket","socketIOClient","emit","on","disconnect","Components_NewVarDialog","Components_NewGraphDialog","Components_DeleteDialog","Components_SpeedDial","special","Drawer","paper","List","ListItem","ListItemText","Divider","toUpperCase","toLocaleString","filter","v","ReactDOM","render","Components_SnackbarProvider","react_router_dom","CssBaseline","AppBar","Toolbar","Link","button","path","exact","CreateRoom","onKeyPress","history","push","autoFocus","Room","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.be1cade6.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n        menuButton: {\r\n            marginRight: theme.spacing(2),\r\n        },\r\n        title: {\r\n            flexGrow: 1,\r\n        },\r\n        appBar: {\r\n            zIndex: theme.zIndex.drawer + 1,\r\n        },\r\n    })\r\n);\r\n\r\nexport default function ButtonAppBar() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CssBaseline />\r\n            <AppBar position=\"fixed\" className={classes.appBar}>\r\n                <Toolbar>\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n                        Internet of Léo\r\n                    </Typography>\r\n\r\n                    <Button component={Link} to=\"/\" color=\"inherit\" className={classes.button}>\r\n                        Accueil\r\n                    </Button>\r\n                    <Button component={Link} to=\"/create\" color=\"inherit\">\r\n                        Créer une salle\r\n                    </Button>\r\n                    <Button component={Link} to=\"/join\" color=\"inherit\" >\r\n                        Rejoindre une salle\r\n                    </Button>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst CreateButton = (color, background) => {\r\n    if (background)\r\n        return props => <Button {...props} style={{ backgroundColor: color }}></Button>\r\n    else\r\n        return props => <Button {...props} style={{ color: color }}></Button>\r\n}\r\n\r\nexport const Danger = CreateButton(\"#f44336\", true)\r\nexport const Success = CreateButton(\"#4caf50\", true)\r\nexport const Warning = CreateButton(\"#ff9800\", true)\r\n\r\nexport const DangerSimple = CreateButton(\"#f44336\", false)\r\nexport const SuccessSimple = CreateButton(\"#4caf50\", false)\r\nexport const WarningSimple = CreateButton(\"#ff9800\", false)","import React, { createContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles1();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n\r\n    return (\r\n        <SnackbarContent\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n                    {message}\r\n                </span>\r\n            }\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\r\n                    <CloseIcon className={classes.icon} />\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n};\r\n\r\nexport const SnackbarContext = createContext({\r\n    showMessage: {},\r\n    open: false\r\n});\r\n\r\nclass SnackbarProvider extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            open: false,\r\n            showMessage: (variant, message, duration) => {\r\n                if ([\"success\", \"warning\", \"error\", \"info\"].indexOf(variant) !== -1 && message) {\r\n                    this.setState({\r\n                        variant,\r\n                        message,\r\n                        duration: duration || this.state.duration,\r\n                        open: true\r\n                    });\r\n                }\r\n            },\r\n            duration: 3000,\r\n            message: \"\",\r\n            variant: \"success\"\r\n        }\r\n\r\n        this.handleClose = this.handleClose.bind(this);\r\n    }\r\n\r\n    handleClose(event, reason) {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <SnackbarContext.Provider value={this.state}>\r\n                    <Snackbar\r\n                        anchorOrigin={{\r\n                            vertical: 'bottom',\r\n                            horizontal: 'left',\r\n                        }}\r\n                        open={this.state.open}\r\n                        autoHideDuration={this.state.duration}\r\n                        onClose={this.handleClose}\r\n                    >\r\n                        <MySnackbarContentWrapper\r\n                            onClose={this.handleClose}\r\n                            variant={this.state.variant}\r\n                            message={this.state.message}\r\n                        />\r\n                    </Snackbar>\r\n                    {this.props.children}\r\n                </SnackbarContext.Provider>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nSnackbarProvider.contextType = SnackbarContext;\r\n\r\nexport function withSnackbar(Component) {\r\n    return function WrapperComponent(props) {\r\n        return (\r\n            <SnackbarContext.Consumer>\r\n                {snackbar => <Component {...props} snackbar={snackbar} />}\r\n            </SnackbarContext.Consumer>\r\n        );\r\n    };\r\n}\r\n\r\nexport default SnackbarProvider;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport PersonAdd from '@material-ui/icons/PersonAdd';\r\n\r\nimport { Danger, Success } from \"../Components/Buttons\"\r\nimport { withSnackbar } from \"../Components/SnackbarProvider\"\r\n\r\nimport { api } from \"../config\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        padding: theme.spacing(3, 2),\r\n        marginTop: \"15px\"\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    dense: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    menu: {\r\n        width: 200,\r\n    },\r\n    leftIcon: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(10),\r\n    },\r\n}));\r\n\r\nfunction CreateRoom(props) {\r\n    const classes = useStyles();\r\n    const [values, setValues] = React.useState({\r\n        students: [{ firstName: \"\", lastName: \"\" }]\r\n    });\r\n\r\n    const [redirection, setRedirection] = React.useState({\r\n        redirect: false,\r\n        roomID: 0\r\n    });\r\n\r\n    const handleChange = (name, i) => e => {\r\n        let students = [...values.students];\r\n        students[i][name] = e.target.value;\r\n        setValues({ students: students });\r\n    };\r\n\r\n    const addStudent = () => {\r\n        setValues({ students: [...values.students, { firstName: \"\", lastName: \"\" }] })\r\n    }\r\n\r\n    const deleteStudent = i => () => {\r\n        if (values.students.length > 1) {\r\n            let students = [...values.students];\r\n            students.splice(i, 1);\r\n            setValues({\r\n                students: students\r\n            })\r\n        } else {\r\n            props.snackbar.showMessage(\"error\", \"La salle doit contenir au minimum un étudiant\");\r\n        }\r\n    }\r\n\r\n    const createRoom = () => {\r\n        let validEntries = true;\r\n\r\n        for (let i = 0; i < values.students.length; i++) {\r\n            if (values.students[i].firstName === \"\" || values.students[i].lastName === \"\") {\r\n                validEntries = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (validEntries) {\r\n            const data = { ...values };\r\n\r\n            fetch(api.protocol + \"://\" + api.hostname + \":\" + api.port + \"/room\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(res => {\r\n                    if (!res.ok) throw res;\r\n                    else return res.json();\r\n                })\r\n                .then(res => {\r\n                    props.snackbar.showMessage(\"success\", \"Salle créée avec succès\");\r\n                    setRedirection({ redirect: true, roomID: res._id });\r\n                })\r\n                .catch(console.error)\r\n        }\r\n        else {\r\n            props.snackbar.showMessage(\"error\", \"Tous les champs doivent être remplis\");\r\n        }\r\n    }\r\n\r\n    if (redirection.redirect)\r\n        return <Redirect to={\"/room/\" + redirection.roomID} />;\r\n\r\n    return (\r\n        <main className={classes.content}>\r\n            <Grid container justify=\"center\">\r\n                <Grid item xs={12} md={10} lg={8}>\r\n                    <Paper className={classes.root}>\r\n                        <Grid container spacing={4}>\r\n                            <Grid item xs={12}>\r\n                                <Typography variant=\"h5\" component=\"h3\">\r\n                                    Création de la salle\r\n                        </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}>\r\n                                {values.students.map((student, i) =>\r\n                                    <Grid container spacing={8} alignItems=\"center\" key={i}>\r\n                                        <Grid item xs={12} md={4}>\r\n                                            <TextField\r\n                                                id=\"outlined-name\"\r\n                                                label=\"Nom\"\r\n                                                className={classes.textField}\r\n                                                value={student.lastName}\r\n                                                onChange={handleChange('lastName', i)}\r\n                                                margin=\"normal\"\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} md={4}>\r\n                                            <TextField\r\n                                                id=\"outlined-name\"\r\n                                                label=\"Prénom\"\r\n                                                className={classes.textField}\r\n                                                value={student.firstName}\r\n                                                onChange={handleChange('firstName', i)}\r\n                                                margin=\"normal\"\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} md={4}>\r\n                                            <Danger variant=\"contained\" color=\"primary\" onClick={deleteStudent(i)}>\r\n                                                Supprimer l'étudiant\r\n                                            </Danger>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                )}\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}>\r\n                                <Success variant=\"contained\" color=\"primary\" className={classes.margin} onClick={createRoom}>\r\n                                    Créer la salle\r\n                                </Success>\r\n                                <Button variant=\"contained\" color=\"primary\" className={classes.margin} onClick={addStudent}>\r\n                                    <PersonAdd className={classes.leftIcon} />\r\n                                    Ajouter un étudiant\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default withSnackbar(CreateRoom);","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport { Success } from \"../Components/Buttons\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        padding: theme.spacing(3, 2),\r\n        marginTop: \"15px\"\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(10),\r\n    },\r\n}));\r\n\r\nexport default function JoinRoom(props) {\r\n    const classes = useStyles();\r\n    const [values, setValues] = React.useState({\r\n        roomID: \"\"\r\n    });\r\n\r\n    const handleChange = name => e => {\r\n        setValues({ [name]: e.target.value });\r\n    };\r\n\r\n    return (\r\n        <main className={classes.content}>\r\n            <Grid container justify=\"center\">\r\n                <Grid item xs={12} md={10} lg={8}>\r\n                    <Paper className={classes.root}>\r\n                        <Grid container spacing={4}>\r\n                            <Grid item xs={12}>\r\n                                <Typography variant=\"h5\" component=\"h3\">\r\n                                    Rejoindre une salle\r\n                        </Typography>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6} lg={3}>\r\n                                <TextField\r\n                                    id=\"outlined-name\"\r\n                                    label=\"Identifiant de la salle\"\r\n                                    className={classes.textField}\r\n                                    value={values.roomID}\r\n                                    onChange={handleChange('roomID')}\r\n                                    onKeyPress={(e) => {\r\n                                        if (e.key === 'Enter') {\r\n                                            props.history.push(`/room/${e.target.value}`)\r\n                                        }\r\n                                    }}\r\n                                    margin=\"normal\"\r\n                                    variant=\"outlined\"\r\n                                    fullWidth\r\n                                    autoFocus\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}>\r\n                                <Success component={Link} to={\"/room/\" + values.roomID} variant=\"contained\" color=\"primary\" className={classes.margin}>\r\n                                    Rejoindre la salle\r\n                            </Success>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n        </main>\r\n    );\r\n}","import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport { SuccessSimple, DangerSimple } from \"./Buttons\";\r\nimport { withSnackbar } from \"./SnackbarProvider\";\r\n\r\nimport { api } from \"../config\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    formControl: {\r\n        minWidth: 120,\r\n        width: \"100%\"\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nfunction DeleteDialog(props) {\r\n    const classes = useStyles();\r\n    const [values, setValues] = React.useState({ _id: \"\" });\r\n\r\n    function handleClose() {\r\n        props.setOpen(false);\r\n    }\r\n\r\n    const handleChange = name => e => {\r\n        setValues({ ...values, [name]: e.target.value });\r\n    }\r\n\r\n    function remove() {\r\n        if (values._id !== \"\") {\r\n            let data = {};\r\n            if (props.type === \"variable\")\r\n                data.variableID = values._id;\r\n            else if (props.type === \"graph\")\r\n                data.graphID = values._id;\r\n\r\n            let url;\r\n            if (props.type === \"variable\")\r\n                url = api.protocol + \"://\" + api.hostname + \":\" + api.port + \"/room/\" + props.roomID + \"/variable\";\r\n            else if (props.type === \"graph\")\r\n                url = api.protocol + \"://\" + api.hostname + \":\" + api.port + \"/room/\" + props.roomID + \"/graph\";\r\n\r\n            fetch(url, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(res => {\r\n                    if (!res.ok) throw res;\r\n                    else return res.json();\r\n                })\r\n                .then(res => {\r\n                    if (props.type === \"variable\")\r\n                        props.snackbar.showMessage(\"success\", \"Variable supprimée avec succès\");\r\n                    else if (props.type === \"graph\")\r\n                        props.snackbar.showMessage(\"success\", \"Graphique supprimé avec succès\");\r\n                    setValues({ variable: \"\" });\r\n                    props.setRoom(res);\r\n                    handleClose();\r\n                })\r\n                .catch(err => {\r\n                    console.error(err);\r\n                    err.json().then(msg => {\r\n                        console.error(err);\r\n                    });\r\n                });\r\n        } else {\r\n            props.snackbar.showMessage(\"error\", \"Tous les champs doivent être remplis\");\r\n        }\r\n    }\r\n\r\n    let content = \"\";\r\n    if (props.type === \"variable\") {\r\n        content = (\r\n            <>\r\n                <DialogTitle id=\"form-dialog-title\">Supprimer une variable</DialogTitle>\r\n                <DialogContent>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel htmlFor=\"variable\">Nom de la variable</InputLabel>\r\n                        <Select\r\n                            value={values._id}\r\n                            onChange={handleChange(\"_id\")}\r\n                        >\r\n                            {props.variables.map(variable =>\r\n                                <MenuItem\r\n                                    key={variable._id}\r\n                                    value={variable._id}\r\n                                >\r\n                                    {variable.name + \" (\" + variable.unit + \")\"}\r\n                                </MenuItem>\r\n                            )}\r\n                        </Select>\r\n                    </FormControl>\r\n                </DialogContent>\r\n            </>\r\n        );\r\n    } else if (props.type === \"graph\") {\r\n        content = (\r\n            <>\r\n                <DialogTitle id=\"form-dialog-title\">Supprimer un graphique</DialogTitle>\r\n                <DialogContent>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel htmlFor=\"variable\">Nom du graphique</InputLabel>\r\n                        <Select\r\n                            value={values._id}\r\n                            onChange={handleChange(\"_id\")}\r\n                        >\r\n                            {props.graphs.map(graph =>\r\n                                <MenuItem\r\n                                    key={graph._id}\r\n                                    value={graph._id}\r\n                                >\r\n                                    {graph.title}\r\n                                </MenuItem>\r\n                            )}\r\n                        </Select>\r\n                    </FormControl>\r\n                </DialogContent>\r\n            </>\r\n        );\r\n    }\r\n\r\n    console.log(props);\r\n\r\n    return (\r\n        <Dialog open={props.open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n            {content}\r\n            <DialogActions>\r\n                <SuccessSimple onClick={handleClose} color=\"primary\">\r\n                    Annuler\r\n                </SuccessSimple>\r\n                <DangerSimple onClick={remove} color=\"primary\">\r\n                    Supprimer\r\n                </DangerSimple>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nexport default withSnackbar(DeleteDialog)","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport { withSnackbar } from './SnackbarProvider';\r\nimport { SuccessSimple, DangerSimple } from \"./Buttons\";\r\n\r\nimport { api } from \"../config\";\r\n\r\nfunction NewVarDialog(props) {\r\n    const [variable, setVariable] = React.useState({ name: \"\", unit: \"\", displayName:\"\" })\r\n\r\n    function handleClose() {\r\n        props.setOpen(false);\r\n    }\r\n\r\n    const handleChange = name => e => {\r\n        setVariable({ ...variable, [name]: e.target.value })\r\n    }\r\n\r\n    function createNewVar() {\r\n        if (variable.name !== \"\" && variable.unit !== \"\" && variable.displayName !== \"\") {\r\n            const data = { ...variable };\r\n\r\n            fetch(api.protocol + \"://\" + api.hostname + \":\" + api.port + \"/room/\" + props.roomID + \"/variable\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(res => {\r\n                    if (!res.ok) throw res;\r\n                    else return res.json();\r\n                })\r\n                .then(res => {\r\n                    props.snackbar.showMessage(\"success\", \"Variable créée avec succès\");\r\n                    setVariable({ name: \"\", unit: \"\" });\r\n                    props.setRoom(res)\r\n                    handleClose();\r\n                })\r\n                .catch(err => {\r\n                    err.json().then(msg => {\r\n                        if (msg.message === \"VariableAlreadyExists\")\r\n                            props.snackbar.showMessage(\"error\", \"Une variable existe déjà avec ce nom\");\r\n                    });\r\n                });\r\n        } else {\r\n            props.snackbar.showMessage(\"error\", \"Tous les champs doivent être remplis\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog open={props.open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Créer une nouvelle variable</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    Cette nouvelle variable vous permettra d'envoyer d'autres types de données depuis votre Arduino MKR.\r\n                    <br />Il est recommandé de ne pas mettre d'accent ou de caractères spéciaux dans le nom de la variable.\r\n                </DialogContentText>\r\n                <TextField\r\n                    margin=\"dense\"\r\n                    id=\"name\"\r\n                    label=\"Nom de la variable\"\r\n                    type=\"text\"\r\n                    value={variable.name}\r\n                    onChange={handleChange(\"name\")}\r\n                    fullWidth\r\n                />\r\n                <TextField\r\n                    margin=\"dense\"\r\n                    id=\"displayName\"\r\n                    label=\"Nom d'affichage de la variable\"\r\n                    type=\"text\"\r\n                    value={variable.displayName}\r\n                    onChange={handleChange(\"displayName\")}\r\n                    fullWidth\r\n                />\r\n                <TextField\r\n                    margin=\"dense\"\r\n                    id=\"unit\"\r\n                    label=\"Unité\"\r\n                    type=\"text\"\r\n                    value={variable.unit}\r\n                    onChange={handleChange(\"unit\")}\r\n                    fullWidth\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <DangerSimple onClick={handleClose} color=\"primary\">\r\n                    Annuler\r\n                </DangerSimple>\r\n                <SuccessSimple onClick={createNewVar} color=\"primary\">\r\n                    Créer\r\n                </SuccessSimple>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nexport default withSnackbar(NewVarDialog);","import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport { SuccessSimple, DangerSimple } from \"./Buttons\";\r\nimport { withSnackbar } from \"./SnackbarProvider\";\r\n\r\nimport { api } from \"../config\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    formControl: {\r\n        minWidth: 120,\r\n        width: \"100%\"\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nfunction NewGraphDialog(props) {\r\n    const classes = useStyles();\r\n    const [values, setValues] = React.useState({ variable: \"\", title: \"\",width: 6 });\r\n\r\n    function handleClose() {\r\n        props.setOpen(false);\r\n    }\r\n\r\n    const handleChange = name => e => {\r\n        setValues({ ...values, [name]: e.target.value });\r\n    }\r\n\r\n    function addGraph() {\r\n        if (values.name !== \"\" && values.title !== \"\") {\r\n            const data = {\r\n                ...values\r\n            }\r\n\r\n            fetch(api.protocol + \"://\" + api.hostname + \":\" + api.port + \"/room/\" + props.roomID + \"/graph\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(res => {\r\n                    if (!res.ok) throw res;\r\n                    else return res.json();\r\n                })\r\n                .then(res => {\r\n                    props.snackbar.showMessage(\"success\", \"Graph créée avec succès\");\r\n                    setValues({ variable: \"\" });\r\n                    props.setRoom(res);\r\n                    handleClose();\r\n                })\r\n                .catch(err => {\r\n                    console.error(err);\r\n                    err.json().then(msg => {\r\n                        console.error(err);\r\n                    });\r\n                });\r\n        } else {\r\n            props.snackbar.showMessage(\"error\", \"Tous les champs doivent être remplis\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog open={props.open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Créer un nouveau graphique</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    Associer une variable à un nouveau graphique\r\n                </DialogContentText>\r\n\r\n                <TextField\r\n                    margin=\"dense\"\r\n                    label=\"Nom du graphique\"\r\n                    type=\"text\"\r\n                    value={values.title}\r\n                    onChange={handleChange(\"title\")}\r\n                    fullWidth\r\n                />\r\n\r\n                <FormControl className={classes.formControl}>\r\n                    <InputLabel htmlFor=\"variable\">Nom de la variable</InputLabel>\r\n                    <Select\r\n                        value={values.variable}\r\n                        onChange={handleChange(\"variable\")}\r\n                    >\r\n                        {props.variables.map(variable =>\r\n                            <MenuItem\r\n                                key={variable.name}\r\n                                value={variable.name}\r\n                            >\r\n                                {variable.name + \" (\" + variable.unit + \")\"}\r\n                            </MenuItem>\r\n                        )}\r\n                    </Select>\r\n                </FormControl>\r\n\r\n                <TextField\r\n                    margin=\"dense\"\r\n                    label=\"Largeur du graphique (entre 1 et 12)\"\r\n                    type=\"text\"\r\n                    value={values.width}\r\n                    onChange={handleChange(\"width\")}\r\n                    fullWidth\r\n                />\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <DangerSimple onClick={handleClose} color=\"primary\">\r\n                    Annuler\r\n                </DangerSimple>\r\n                <SuccessSimple onClick={addGraph} color=\"primary\">\r\n                    Créer\r\n                </SuccessSimple>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nexport default withSnackbar(NewGraphDialog)","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SpeedDial from '@material-ui/lab/SpeedDial';\r\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\r\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\r\nimport Add from '@material-ui/icons/Add';\r\nimport Delete from '@material-ui/icons/Delete';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    controls: {\r\n        margin: theme.spacing(3),\r\n    },\r\n    exampleWrapper: {\r\n        position: 'relative',\r\n        height: 380,\r\n    },\r\n    radioGroup: {\r\n        margin: theme.spacing(1, 0),\r\n    },\r\n    speedDial: {\r\n        position: 'absolute',\r\n        bottom: theme.spacing(2),\r\n        right: theme.spacing(3),\r\n    }\r\n});\r\n\r\nclass SpeedDials extends React.Component {\r\n    state = {\r\n        direction: 'up',\r\n        open: false\r\n    };\r\n\r\n    actions = [\r\n        { icon: <Delete />, name: 'Supprimer un graphique', action: this.props.deleteGraph },\r\n        { icon: <Delete />, name: 'Supprimer une variable', action: this.props.deleteVar },\r\n        { icon: <Add />, name: 'Ajouter une variable', action: this.props.newVar },\r\n        { icon: <Add />, name: 'Ajouter un graphique', action: this.props.newGraph },\r\n    ];\r\n\r\n    handleClick = () => {\r\n        this.setState(state => ({\r\n            open: !state.open,\r\n        }));\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { hidden, open } = this.state;\r\n\r\n        return (\r\n            <SpeedDial\r\n                ariaLabel=\"SpeedDial example\"\r\n                className={classes.speedDial}\r\n                hidden={hidden}\r\n                icon={<SpeedDialIcon />}\r\n                onBlur={this.handleClose}\r\n                onClick={this.handleClick}\r\n                onClose={this.handleClose}\r\n                onFocus={this.handleOpen}\r\n                onMouseEnter={this.handleOpen}\r\n                onMouseLeave={this.handleClose}\r\n                open={open}\r\n                direction=\"up\"\r\n            >\r\n                {this.actions.map(action => (\r\n                    <SpeedDialAction\r\n                        key={action.name}\r\n                        icon={action.icon}\r\n                        tooltipTitle={action.name}\r\n                        tooltipPlacement=\"left\"\r\n                        tooltipOpen\r\n                        onClick={action.action}\r\n                    />\r\n                ))}\r\n            </SpeedDial>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(SpeedDials);","import React, { useState, useEffect } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\n\r\nexport default function Chart(props) {\r\n    const [data, setData] = useState({\r\n        datasets: [\r\n            {\r\n                fill: true,\r\n                lineTension: 0.4,\r\n                borderColor: 'rgba(75,192,192,1)',\r\n                borderCapStyle: 'butt',\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                borderJoinStyle: 'miter',\r\n                pointBorderColor: 'rgba(75,192,192,1)',\r\n                pointBackgroundColor: '#fff',\r\n                pointBorderWidth: 4,\r\n                pointHoverRadius: 5,\r\n                pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n                pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n                pointHoverBorderWidth: 2,\r\n                pointRadius: 1,\r\n                pointHitRadius: 10,\r\n                data: props.data.map(data => ({ y: data.value, x: new Date(data.date) }))\r\n            }\r\n        ]\r\n    });\r\n\r\n    useEffect(() => {\r\n        setData({\r\n            datasets: [\r\n                {\r\n                    fill: true,\r\n                    lineTension: 0.4,\r\n                    borderColor: 'rgba(75,192,192,1)',\r\n                    borderCapStyle: 'butt',\r\n                    borderDash: [],\r\n                    borderDashOffset: 0.0,\r\n                    borderJoinStyle: 'miter',\r\n                    pointBorderColor: 'rgba(75,192,192,1)',\r\n                    pointBackgroundColor: '#fff',\r\n                    pointBorderWidth: 4,\r\n                    pointHoverRadius: 5,\r\n                    pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n                    pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n                    pointHoverBorderWidth: 2,\r\n                    pointRadius: 1,\r\n                    pointHitRadius: 10,\r\n                    label: props.variable.displayName,\r\n                    data: props.data.map(data => ({ y: data.value, x: new Date(data.date) }))\r\n                }\r\n            ]\r\n        });\r\n    }, [props.data, props.variable]\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (props.newData && props.newData.variable === props.variable.name && props.newData.value) {\r\n            console.log(\"new data:\", props.newData)\r\n            setData({\r\n                datasets: [\r\n                    {\r\n                        ...data.datasets[0],\r\n                        data: [...data.datasets[0].data, {y:props.newData.value, x: props.newData.date}]\r\n                    }\r\n                ]\r\n            });\r\n        }// eslint-disable-next-line\r\n    }, [props.newData, props.variable]\r\n    );\r\n\r\n    const options = {\r\n        title: {\r\n            display: true,\r\n            text: props.title\r\n        },\r\n        scales: {\r\n            xAxes: [{\r\n                type: 'time',\r\n                time: {\r\n                    // round: 'day'\r\n                    tooltipFormat: 'HH:mm'\r\n                },\r\n                distribution: 'linear'\r\n            }],\r\n            yAxes: [{\r\n                ticks: {\r\n                    callback: (value, index, values) => value + props.variable.unit\r\n                },\r\n            }]\r\n        },\r\n        legend: {\r\n            display: true,\r\n            position: \"bottom\"\r\n        },\r\n        tooltips: {\r\n            displayColors: false,\r\n            callbacks: {\r\n                label: (tooltipItem) => tooltipItem.yLabel + props.variable.unit,\r\n                //title: () => null\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Line data={data} options={options} />\r\n    )\r\n}","import React, { useEffect } from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport DeleteDialog from \"../Components/DeleteDialog\";\r\nimport NewVarDialog from \"../Components/NewVarDialog\";\r\nimport NewGraphDialog from \"../Components/NewGraphDialog\";\r\nimport SpeedDial from \"../Components/SpeedDial\";\r\nimport Chart from \"../Components/Chart\";\r\nimport { withSnackbar } from \"../Components/SnackbarProvider\";\r\n\r\nimport { api } from \"../config\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        paddingTop: theme.spacing(10),\r\n        paddingLeft: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n}));\r\n\r\nfunction Room(props) {\r\n    const classes = useStyles();\r\n\r\n    const [newVar, setNewVar] = React.useState(false);\r\n    const [newGraph, setNewGraph] = React.useState(false);\r\n    const [removeDialog, setRemoveDialog] = React.useState({ open: false, type: \"variable\" });\r\n\r\n    const [redirect, setRedirect] = React.useState(false);\r\n\r\n    const [room, setRoom] = React.useState({\r\n        students: [{ lastName: \"\", firstName: \"\" }],\r\n        variables: [{ name: \"\", unit: \"\", _id: \"\" }],\r\n        datas: [{ value: \"\", variable: \"\", date: Date.now() }],\r\n        graphs: []\r\n    });\r\n    const [newData, setNewData] = React.useState({ date: Date.now(), value: 0, variable: \"\" })\r\n\r\n    const params = props.match.params;\r\n\r\n    //const socket = socketIOClient(api.protocol + \"://\" + api.hostname + \":3002\");\r\n\r\n    useEffect(() => {\r\n        fetch(api.protocol + \"://\" + api.hostname + \":\" + api.port + \"/room/\" + params.id, {\r\n            method: \"GET\"\r\n        })\r\n            .then(res => {\r\n                if (!res.ok) throw res;\r\n                else return res.json();\r\n            })\r\n            .then(res => {\r\n                setRoom({ ...res });\r\n            })\r\n            .catch(err => {\r\n                err.json()\r\n                    .then(msg => {\r\n                        if (msg.message === \"RoomNotFound\") {\r\n                            props.snackbar.showMessage(\"error\", \"Aucune salle n'existe avec cet identifiant\")\r\n                            setRedirect(true);\r\n                        }\r\n                    });\r\n            })\r\n    }, [params.id, props.snackbar]);\r\n\r\n    useEffect(() => {\r\n        const socket = socketIOClient(api.protocol + \"://\" + api.hostname + \":3002\");\r\n\r\n        socket.emit(\"room\", params.id);\r\n        socket.on(\"data\", data => setNewData(data));\r\n\r\n        return () => socket.disconnect()\r\n    }, [params.id])\r\n\r\n    if (redirect)\r\n        return <Redirect to=\"/join\" />\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <NewVarDialog\r\n                open={newVar}\r\n                setOpen={setNewVar}\r\n                setRoom={setRoom}\r\n                roomID={params.id}\r\n            />\r\n            <NewGraphDialog\r\n                open={newGraph}\r\n                setOpen={setNewGraph}\r\n                setRoom={setRoom}\r\n                roomID={params.id}\r\n                variables={room.variables}\r\n            />\r\n            <DeleteDialog\r\n                open={removeDialog.open}\r\n                type={removeDialog.type}\r\n                setOpen={setRemoveDialog}\r\n                setRoom={setRoom}\r\n                roomID={params.id}\r\n                variables={room.variables}\r\n                graphs={room.graphs}\r\n            />\r\n            <SpeedDial\r\n                newVar={() => setNewVar(true)}\r\n                newGraph={() => setNewGraph(true)}\r\n                deleteVar={() => setRemoveDialog({ open: true, type: \"variable\" })}\r\n                deleteGraph={() => setRemoveDialog({ open: true, type: \"graph\" })}\r\n            />\r\n            { !room.special &&\r\n                <Drawer\r\n                    className={classes.drawer}\r\n                    variant=\"permanent\"\r\n                    classes={{\r\n                        paper: classes.drawerPaper,\r\n                    }}\r\n                >\r\n                    <div className={classes.toolbar} />\r\n                    <List>\r\n                        <ListItem>\r\n                            <ListItemText primary={\"Identifiant de la salle :\"} />\r\n                            <ListItemText primary={params.id} />\r\n                        </ListItem>\r\n                    </List>\r\n                    <Divider />\r\n                    <List>\r\n                        <ListItem>\r\n                            <ListItemText primary={\"Etudiants :\"} />\r\n                        </ListItem>\r\n                        {\r\n                            room.students.map(student =>\r\n                                <ListItem key={student._id || Date.now()}>\r\n                                    <ListItemText primary={student.lastName.toUpperCase() + \" \" + student.firstName} />\r\n                                </ListItem>\r\n                            )\r\n                        }\r\n                    </List>\r\n                    <Divider />\r\n                    <List>\r\n                        <ListItem>\r\n                            <ListItemText primary={\"Dernier message reçu\"} />\r\n                        </ListItem>\r\n                        <ListItem>\r\n                            <ListItemText primary={room.datas.length > 0 ? \"le \" + (new Date(room.datas[room.datas.length - 1].date)).toLocaleString() : \"n/a\"} />\r\n                        </ListItem>\r\n                    </List>\r\n                </Drawer>\r\n            }\r\n            <main className={classes.content}>\r\n                <Grid container alignItems=\"center\">\r\n                    {room.graphs.map(graph =>\r\n                        <Grid item xs={graph.width} key={graph._id}>\r\n                            <Chart\r\n                                data={room.datas.filter(data => data.variable === graph.variable)}\r\n                                newData={newData}\r\n                                variable={room.variables.filter(v => v.name === graph.variable)[0]}\r\n                                title={graph.title}\r\n                            />\r\n                        </Grid>\r\n                    )}\r\n                </Grid>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withSnackbar(Room);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport Navbar from \"./Components/Navbar\";\r\n//import Home from \"./Pages/Home\";\r\nimport CreateRoom from \"./Pages/CreateRoom\";\r\nimport JoinRoom from \"./Pages/JoinRoom\";\r\nimport Room from \"./Pages/Room\";\r\nimport SnackbarProvider from \"./Components/SnackbarProvider\";\r\n\r\n\r\nReactDOM.render((\r\n    <SnackbarProvider>\r\n        <Router>\r\n            <Navbar />\r\n            <Route path=\"/create\" exact component={CreateRoom} />\r\n            <Route path=\"/join\" exact component={JoinRoom} />\r\n            <Route path=\"/room/:id\" exact component={Room} />\r\n        </Router>\r\n    </SnackbarProvider>\r\n), document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}